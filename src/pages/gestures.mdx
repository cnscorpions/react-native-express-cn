import WebPlayer from '../components/WebPlayer'
import example from '../examples/gestures'

在React Native中，使用`PanResponder`API创建手势。

## **`PanResponder`**

大多数内置的React Native组件(`View`、`Text`等)都可以成为responser者并处理触摸事件。你需要创建一组`panHandlers`，并将它们作为prop传递到你的组件中。使用包含handler 的对象调用`{'panResponder = PanResponder.create(panHandlers)'}`来创建一个`PanResponder`。然后你可以访问`panResponder.panHandlers`，它将是你传入的handler 对象的增强版。

## **`PanHandlers`**

你可能会想要处理`onStartShouldSetPanResponder`或`onMoveShouldSetPanResponder`来成为一个responser并处理手势。除此之外，你很可能想要处理`Grant`、`Move`、`Release`和`Terminate`来更新你的UI以响应手势。除非你的应用程序中有许多复杂的手势，否则你一般不需要包含每个handler 来获得一个生效的手势。

这里是所有handlers的列表。

- `onMoveShouldSetPanResponder: (e, gestureState) => {...}`
- `onMoveShouldSetPanResponderCapture: (e, gestureState) => {...}`
- `onStartShouldSetPanResponder: (e, gestureState) => {...}`
- `onStartShouldSetPanResponderCapture: (e, gestureState) => {...}`
- `onPanResponderReject: (e, gestureState) => {...}`
- `onPanResponderGrant: (e, gestureState) => {...}`
- `onPanResponderStart: (e, gestureState) => {...}`
- `onPanResponderEnd: (e, gestureState) => {...}`
- `onPanResponderRelease: (e, gestureState) => {...}`
- `onPanResponderMove: (e, gestureState) => {...}`
- `onPanResponderTerminate: (e, gestureState) => {...}`
- `onPanResponderTerminationRequest: (e, gestureState) => {...}`
- `onShouldBlockNativeResponder: (e, gestureState) => {...}`

更多详情请见[docs](https://facebook.github.io/react-native/docs/panresponder.html)。

# 例子

<WebPlayer {...example} />

# Responder 控制流

下图说明了一个组件如何获得responder的状态。

<figure>
  <img style={{ paddingTop: 40, width: 550 }} src={'pan-responder-flow.png'} />
  <figcaption style={{ paddingBottom: 40 }}>
    Figure 4-3, Obtaining touch responder status, from{' '}
    <em>
      <a href={'http://shop.oreilly.com/product/0636920041511.do'}>
        Learning React Native
      </a>
      , First Edition, p. 56
    </em>
  </figcaption>
</figure>
